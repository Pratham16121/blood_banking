<%= render 'shared/navbar' %>
<div class="container">
  <div class="row justify-content-center">
    <div class="col-md-8">
      <h1 class="mb-4">New User</h1>

      <%= form_with url: users_path, method: :post do |f| %>
        <%= f.fields_for :user do |user_form| %>
          <div class="form-group">
            <%= user_form.label :name, class: "form-label" %>
            <%= user_form.text_field :name, class: "form-control" %>
          </div>

          <div class="form-group">
            <%= user_form.label :blood_type, class: "form-label" %>
            <%= user_form.select :blood_type, ['A+', 'A-', 'B+', 'B-', 'O+', 'O-', 'AB+', 'AB-'], { include_blank: true }, class: "form-control" %>
          </div>

          <div class="form-group">
            <%= user_form.label :email, class: "form-label" %>
            <%= user_form.email_field :email, class: "form-control" %>
          </div>

          <div class="form-group">
            <%= user_form.label :password, class: "form-label" %>
            <%= user_form.password_field :password, class: "form-control" %>
          </div>

          <div class="form-group">
            <%= user_form.label :password_confirmation, class: "form-label" %>
            <%= user_form.password_field :password_confirmation, class: "form-control" %>
          </div>

          <div class="form-group">
            <%= user_form.label :age, class: "form-label" %>
            <%= user_form.number_field :age, class: "form-control" %>
          </div>

          <div class="form-group">
            <%= user_form.label :sex, class: "form-label" %>
            <%= user_form.select :sex, ['Male', 'Female', 'Other'], { include_blank: true }, class: "form-control" %>
          </div>

          <div class="form-group">
            <%= user_form.label :phone, class: "form-label" %>
            <%= user_form.phone_field :phone, class: "form-control" %>
          </div>
          <% if @current_user.is_super_admin? %>
            <%= user_form.hidden_field :role_id, value: 2 %>
            <%= user_form.hidden_field :blood_bank_id, value: params[:blood_bank_id] %>
          <% end %>
        <% end %>

        <%= f.submit "Create User", class: "btn btn-primary" %>
      <% end %>
    </div>
  </div>
</div>
